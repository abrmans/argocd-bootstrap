paperless:

  image:
    # -- image repository
    repository: jonaswinkler/paperless-ng
    # -- image tag
    tag: 1.4.5
    # -- image pull policy
    pullPolicy: IfNotPresent

  env:
    - name: COMPOSE_PROJECT_NAME
      value: "paperless"
    - name: PAPERLESS_OCR_LANGUAGE
      value: "eng"
    - name: PAPERLESS_REDIS
      value: "redis://localhost:6379"
  
  additionalContainers:
    broker:
      imagePullPolicy: IfNotPresent
      name: broker
      image: redis:6.0
  
  ingress:
    main:
      enabled: true
      annotations:
        kubernetes.io/ingress.class: nginx
        # kubernetes.io/tls-acme: "true"
        cert-manager.io/cluster-issuer: "letsencrypt-staging"
      labels: {}
      hosts:
        - host: paperless.abrmanlabs.com
          paths:
            - path: /
              # Ignored if not kubeVersion >= 1.14-0
              pathType: Prefix
      tls:
        - secretName: paperless-tls-dev
          hosts:
            - paperless.abrmanlabs.com
      
  persistence:
    storageClass: "longhorn"
    consume:
      accessMode: ReadWriteOnce
      emptyDir:
        enabled: false
      mountPath: /usr/src/paperless/consume
    data:
      accessMode: ReadWriteOnce
      emptyDir:
        enabled: false
      enabled: true
      mountPath: /usr/src/paperless/data
    export:
      accessMode: ReadWriteOnce
      emptyDir:
        enabled: false
      enabled: true
      mountpath: /usr/src/paperless/export
    media:
      accessMode: ReadWriteOnce
      emptyDir:
        enabled: false
      enabled: true
      mountpath: /usr/src/paperless/media
  
  service:
    main:
      ports:
        http:
          port: 8000
